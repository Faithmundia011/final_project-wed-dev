<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Login - Vaccination Tracker</title>
  <style>
    body { font-family: Arial, sans-serif; background:#f0f4f8; display:flex; justify-content:center; align-items:center; height:100vh; }
    .box { background:#fff; padding:20px; border-radius:10px; box-shadow:0 2px 6px rgba(0,0,0,0.1); width:300px; }
    input, button { width:100%; padding:10px; margin:8px 0; border:1px solid #ddd; border-radius:6px; }
    button { background:#2563eb; color:#fff; border:none; cursor:pointer; }
    a { color:#16a34a; text-decoration:none; }
  </style>
</head>
<body>
  <div class="box">
    <h2>Login</h2>
    <input type="text" id="username" placeholder="Username" required>
    <input type="password" id="password" placeholder="Password" required>
    <button onclick="login()">Login</button>
    <p>No account? <a href="vsignup.html">Sign Up</a></p>
  </div>

  <script>
    // âœ… If already logged in, go straight to tracker
    if(localStorage.getItem('loggedInUser')){
      window.location = "vtracker.html";
    }

    function login(){
      const user = document.getElementById('username').value.trim();
      const pass = document.getElementById('password').value;
      if(!user || !pass){ alert('Fill all fields'); return; }

      const users = JSON.parse(localStorage.getItem('users') || '{}');
      if(users[user] && users[user] === pass){
        localStorage.setItem('loggedInUser', user);   // save session
        window.location = "vtracker.html";            // go to tracker
      } else {
        alert('Invalid username or password');
      }
    }
  </script>
</body>
</html>
